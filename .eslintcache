[{"/Users/macmini/PhpstormProjects/google_login/src/index.js":"1","/Users/macmini/PhpstormProjects/google_login/src/App.js":"2","/Users/macmini/PhpstormProjects/google_login/src/reportWebVitals.js":"3"},{"size":500,"mtime":1609243006992,"results":"4","hashOfConfig":"5"},{"size":2607,"mtime":1611059020760,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1609243006994,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"xg0m1w",{"filePath":"11","messages":"12","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13","usedDeprecatedRules":"10"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"/Users/macmini/PhpstormProjects/google_login/src/index.js",[],["17","18"],"/Users/macmini/PhpstormProjects/google_login/src/App.js",["19"],"import logo from './logo.svg';\nimport './App.css';\nimport {GoogleLogin} from \"react-google-login\";\nimport axios from \"axios\";\n\nconsole.log(\"v2.2.34\")\n\nconst googleResponse = (response) => {\n    const tokenBlob = new Blob([JSON.stringify({\n        access_token: response.accessToken,\n        email: response.profileObj.email,\n        name: response.profileObj?.name,\n        avatar: response.profileObj?.imageUrl,\n        googleId: response.googleId,\n        id_token: response.tokenObj.id_token\n    }, null, 2)], {type: 'application/json'});\n    const options = {\n        method: 'POST',\n        body: tokenBlob,\n        // body: new Blob([JSON.stringify(response, null, 2)], {type: 'application/json'}),\n        mode: 'cors',\n        cache: 'default'\n    };\n    // const options = {\n    //     headers: {'Access-Control-Allow-Origin': '*'},\n    //     method: 'POST',\n    //     url: 'https://endorphin.fun/auth/google/callback',\n    //     body: tokenBlob,\n    //     // body: new Blob([JSON.stringify(response, null, 2)], {type: 'application/json'}),\n    //     mode: 'cors',\n    //     cache: 'default'\n    // };\n    console.log(\"response\", response);\n    fetch('https://endorphin.fun/auth/google/callback', options).then(r => {\n    // fetch('https://endorphin.fun/google/redirect', options).then(r => {\n        const token = r.headers.get('x-auth-token');\n        r.json().then(user => {\n            if (token) {\n                this.setState({isAuthenticated: true, user, token})\n            }\n        });\n    })\n\n    // axios(options).then(r => {\n    //     // .get('https://endorphin.fun/google/redirect', options).then(r => {\n    //     const token = r.headers.get('x-auth-token');\n    //     r.json().then(user => {\n    //         if (token) {\n    //             this.setState({isAuthenticated: true, user, token})\n    //         }\n    //     });\n    // })\n};\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <img src={logo} className=\"App-logo\" alt=\"logo\"/>\n                <p>\n                    Edit <code>src/App.js</code> and save to reload.\n                </p>\n                <GoogleLogin\n                    clientId=\"319511837370-6h11919mja93u8rijnlbu3h5j8kt9k5l.apps.googleusercontent.com\"\n                    buttonText=\"Login\"\n                    isSignedIn={true}\n                    onSuccess={googleResponse}\n                    // uxMode=\"popup\"\n                    // redirectUri=\"https://endorphin.fun/google/redirect\"\n                />\n            </header>\n        </div>\n    );\n}\n\nexport default App;\n","/Users/macmini/PhpstormProjects/google_login/src/reportWebVitals.js",[],["20","21"],{"ruleId":"22","replacedBy":"23"},{"ruleId":"24","replacedBy":"25"},{"ruleId":"26","severity":1,"message":"27","line":4,"column":8,"nodeType":"28","messageId":"29","endLine":4,"endColumn":13},{"ruleId":"22","replacedBy":"30"},{"ruleId":"24","replacedBy":"31"},"no-native-reassign",["32"],"no-negated-in-lhs",["33"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar",["32"],["33"],"no-global-assign","no-unsafe-negation"]